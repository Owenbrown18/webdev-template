---
import type { SiteContent } from '../types/content';
import siteSource from '../../content/site.yaml';

const site = siteSource as SiteContent;
const { heading = 'Book an Appointment', description = 'Reserve a time that works best for you.' } = Astro.props;
const embedUrl = site.booking?.embedUrl;
const provider = site.booking?.provider;
---
{embedUrl && (
  <section id="booking" class="py-16 sm:py-20">
    <div class="mx-auto max-w-5xl px-6">
      <div class="mx-auto max-w-2xl text-center">
        <h2 class="text-3xl font-semibold tracking-tight text-slate-900 sm:text-4xl">
          {heading}
        </h2>
        <p class="mt-4 text-base text-slate-600">
          {description}
          {provider && ` â€” powered by ${provider}`}
        </p>
      </div>
      <div class="mt-10 overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-sm">
        <iframe
          src={embedUrl}
          title={`Booking with ${site.name}`}
          loading="lazy"
          frameborder="0"
          class="h-[28rem] w-full"
          allowfullscreen
        ></iframe>
      </div>
    </div>
  </section>
)}
