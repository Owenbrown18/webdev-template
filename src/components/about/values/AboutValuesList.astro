---
interface ValueItem {
  title?: string;
  description?: string;
  icon?: string;
}

interface Props {
  title?: string;
  intro?: string;
  eyebrow?: string;
  supporting?: string;
  items?: ValueItem[];
  backgroundClass?: string;
}

const {
  title = 'Values that guide every project',
  intro = '',
  eyebrow = 'Our values',
  supporting = 'Every promise we make to clients ties back to these principles. They guide hiring, training, and how we show up in your home.',
  items = [],
  backgroundClass,
} = Astro.props as Props;

const values = Array.isArray(items) ? items.filter(Boolean) : [];
const sectionClasses = [backgroundClass, 'section-shell'].filter(Boolean).join(' ');
---
<section class={sectionClasses}>
  <div class="section-container">
    <div class="section-intro max-w-3xl">
      {eyebrow && <p class="section-eyebrow">{eyebrow}</p>}
      <h2 class="section-heading">{title}</h2>
      {intro && <p class="section-subtitle">{intro}</p>}
      {supporting && <p class="mt-6 text-sm text-slate-500 text-center">{supporting}</p>}
    </div>
    <dl class="relative mx-auto mt-12 max-w-4xl space-y-6 border-l border-slate-200 pl-10">
      <span class="pointer-events-none absolute inset-y-0 left-[-1px] hidden w-px bg-gradient-to-b from-slate-200 via-transparent to-transparent lg:block" aria-hidden="true"></span>
      {values.map(({ title, description, icon }, index) => (
        <div class="surface-card relative p-6 transition-shadow duration-200 hover:shadow-card-hover">
          <dt class="flex items-center gap-4 text-base font-semibold tracking-tight text-slate-900">
            <span class="relative flex h-11 w-11 flex-shrink-0 items-center justify-center rounded-full bg-brand-primary/10 text-sm font-semibold uppercase tracking-[0.12em] text-brand-primary">
              {icon ? icon : String(index + 1).padStart(2, '0')}
            </span>
            <span>{title}</span>
          </dt>
          <dd class="mt-3 text-sm leading-6 text-slate-600">{description}</dd>
        </div>
      ))}
    </dl>
  </div>
</section>
